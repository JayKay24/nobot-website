!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,c=function(e,t){for(var n,r=[],o=(i.test(t)?e+"/"+t:t).split("/"),c=0,s=o.length;c<s;c++)n=o[c],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(n){var r=c(s(t),n);return e.require(r,t)}},u=function(e,t){var r=p&&p.createHot(e),o={id:e,exports:{},hot:r};return n[e]=o,t(o.exports,a(e),o),o.exports},l=function(e){return r[e]?l(r[e]):e},d=function(e,t){return l(c(s(e),t))},f=function(e,r){null==r&&(r="/");var i=l(e);if(o.call(n,i))return n[i].exports;if(o.call(t,i))return u(i,t[i]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};f.alias=function(e,t){r[t]=e};var h=/\.[^.\/]+$/,g=/\/index(\.[^\/]+)?$/,v=function(e){if(h.test(e)){var t=e.replace(h,"");o.call(r,t)&&r[t].replace(h,"")!==t+"/index"||(r[t]=e)}if(g.test(e)){var n=e.replace(g,"");o.call(r,n)||(r[n]=e)}};f.register=f.define=function(e,r){if(e&&"object"==typeof e)for(var i in e)o.call(e,i)&&f.register(i,e[i]);else t[e]=r,delete n[e],v(e)},f.list=function(){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};var p=e._hmr&&new e._hmr(d,f,t,n);f._cache=n,f.hmr=p&&p.wrap,f.brunch=!0,e.require=f}}(),function(){"undefined"==typeof window?this:window;require.register("actions/save-score.js",function(e,t,n){"use strict";function r(e){var t=window,n=t.localStorage,r=parseInt(n.getItem(o.PLAYER),10)||0,i=parseInt(n.getItem(o.CPU),10)||0;e===o.PLAYER?n.setItem(o.PLAYER,r+1):e===o.CPU&&n.setItem(o.CPU,i+1)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=t("./../constants/decisions")}),require.register("choices.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.createImagesForResult=e.cleanUpChoiceScreen=e.getChoiceElements=e.initChoices=void 0;var o=t("./constants/screens"),i=t("./loaders/image-loader"),c=t("./screen"),s=t("./helpers/get-choice"),a=r(s),u={},l=void 0,d=function(e){l=e;var t=(0,c.getScreen)(o.CHOICE),n=(0,i.getImageElements)();u=t.querySelector(".choices"),u.appendChild(n.rock),u.appendChild(n.paper),u.appendChild(n.scissors),u.addEventListener("click",f)},f=function(e){var t=e.target,n=t.matches||t.msMatchesSelector;if(n.call(t,"img")){e.stopPropagation();var r=e.target,o=(0,a["default"])(r.dataset.choice);l(o)}},h=function(){var e=(0,i.getImageElements)();u.removeEventListener("click",f),u.removeChild(e.rock),u.removeChild(e.paper),u.removeChild(e.scissors)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.getScreen)(o.RESULT),r=(0,i.getImageElements)(),s=e.getChoiceMade(),a=t.getChoiceMade(),u=n.querySelector(".choice-results"),l=r[s],d=void 0;d=s===a?l.cloneNode():r[a],l.classList.add("left"),d.classList.add("right"),u.appendChild(l),u.appendChild(d)},v=function(){return u};e.initChoices=d,e.getChoiceElements=v,e.cleanUpChoiceScreen=h,e.createImagesForResult=g}),require.register("classes/choice.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this.choiceName=t,this.beats=n}return o(e,[{key:"getChoiceMade",value:function(){return this.choiceName}},{key:"hasBeaten",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.choiceName!==e.beats&&this.choiceName!==e.choiceName}}]),e}();e["default"]=i}),require.register("constants/choices.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ROCK="rock",e.PAPER="paper",e.SCISSORS="scissors"}),require.register("constants/decisions.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PLAYER="player",e.CPU="cpu",e.DRAW="draw"}),require.register("constants/screens.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LOADING="loading",e.CHOICE="choice",e.RESULT="result"}),require.register("game.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("./loaders/styles-loader"),i=r(o),c=t("./loaders/image-loader"),s=t("./screen"),a=t("./constants/screens"),u=t("./choices"),l=t("./helpers/get-choice"),d=r(l),f=t("./helpers/random-choice"),h=r(f),g=t("./actions/save-score"),v=r(g),p=t("./constants/decisions"),m=t("./loaders/config-loader"),C=r(m),S=function(){y(),(0,s.initScreens)(),(0,u.initChoices)(_),(0,s.changeToScreen)(a.CHOICE)},y=function(){var e=document.getElementById("game"),t=(0,m.getConfig)();e.style.backgroundImage="url("+t.theme.path+"/"+t.images.background+")",e.style.fontFamily=t.theme.fontFamily},_=function(e){(0,u.cleanUpChoiceScreen)();var t=(0,d["default"])((0,h["default"])()),n=void 0;n=e.hasBeaten(t)?p.PLAYER:t.hasBeaten(e)?p.CPU:p.DRAW,(0,v["default"])(n),(0,s.updateResultScreen)(e,t),(0,s.changeToScreen)(a.RESULT)},E=function(){(0,C["default"])().then(function(){return(0,i["default"])(),(0,c.loadImages)()}).then(S)};e["default"]=E}),require.register("helpers/get-choice.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){switch(e){case s.ROCK:return new c["default"](s.ROCK,s.SCISSORS);case s.PAPER:return new c["default"](s.PAPER,s.ROCK);case s.SCISSORS:return new c["default"](s.SCISSORS,s.PAPER);default:throw new Error("Choice not found",e)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=t("./../classes/choice"),c=r(i),s=t("./../constants/choices")}),require.register("helpers/get-score.js",function(e,t,n){"use strict";function r(e){var t=window,n=t.localStorage,r=parseInt(n.getItem(o.PLAYER),10)||0,i=parseInt(n.getItem(o.CPU),10)||0;return{player:r,cpu:i}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=t("./../constants/decisions")}),require.register("helpers/random-choice.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=Math.random();return e<=.33?c.ROCK:e<=.66?c.PAPER:c.SCISSORS}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=t("./../classes/choice"),c=(r(i),t("./../constants/choices"))}),require.register("initialize.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=t("./game"),i=r(o);document.addEventListener("DOMContentLoaded",function(){(0,i["default"])()})}),require.register("loaders/config-loader.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},o=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(e,t){fetch("game.json").then(function(e){return e.json()}).then(function(t){r=t,e()})})};e.getConfig=function(){return r};e["default"]=o}),require.register("loaders/image-loader.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImageElements=e.loadImages=void 0;var r=t("./config-loader"),o={},i=function(e,t){return new Promise(function(n,r){var i=new Image;i.id=t,i.className="choice",i.src=e,i.dataset.choice=t,i.onload=function(){o[t]=i,n()}})},c=function(){var e=(0,r.getConfig)(),t=e.theme,n=e.images,o=t.path;if(0===n.length)return void console.warn("No images passed in");var c=[];return Object.keys(n).map(function(e,t){var r=o+"/"+n[e];c.push(i(r,e))}),Promise.all(c)},s=function(){return o};e.loadImages=c,e.getImageElements=s}),require.register("loaders/styles-loader.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("./config-loader"),o=document.head||document.getElementsByTagName("head")[0],i=function(){var e=(0,r.getConfig)(),t=e.theme,n=e.customStyles;n.map(function(e){c(e)});var o=t.path;c(o+"/theme.css")},c=function(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,t.media="all",o.appendChild(t)};e["default"]=i}),require.register("screen.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateResultScreen=e.changeToScreen=e.getScreen=e.initScreens=void 0;var o=t("./constants/screens"),i=t("./loaders/config-loader"),c=t("./choices"),s=t("./helpers/get-score"),a=r(s),u={},l="is-hidden",d="fade-in",f=function(){var e=document.getElementById("game");u[o.LOADING]=e.querySelector("#loading-screen"),u[o.CHOICE]=e.querySelector("#choice-screen"),u[o.RESULT]=e.querySelector("#result-screen");var t=(0,i.getConfig)(),n=t.screens,r=n.choice,c=r.title,s=r.subtitle;u[o.CHOICE].querySelector(".title").textContent=c,u[o.CHOICE].querySelector(".subtitle").textContent=s},h=function(e){var t=u[e];if(void 0!==t)return t;throw new Error("Could not find screen",e)},g=function(e){var t=u[e];if(void 0===t)throw new Error("Cannot change to screen that does not exist");t.classList.add(d),t.classList.remove(l),Object.keys(u).map(function(t){if(e!==t){var n=u[t].classList;n.contains(l)===!1?n.add(l):n.contains(d)?n.remove(d):(n.add(l),n.remove(d))}})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.createImagesForResult)(e,t);var n=h(o.RESULT),r=n.querySelector(".subtitle"),s=n.querySelector(".score"),u=n.querySelector(".feedback"),l=document.getElementById("replay-button"),d=e.getChoiceMade(),f=t.getChoiceMade(),g=void 0,v=void 0,p=!1,m=(0,i.getConfig)(),C=m.labels,S=m.screens,y=S.result,_=C[d],E=C[f];e.hasBeaten(t)?(g=y.won,v=y.feedback.won):t.hasBeaten(e)?(g=y.lost,v=y.feedback.lost):(p=!0,g=y.draw,v=y.feedback.draw),p||(v=v.replace("{player}","<strong>"+_+"</strong>").replace("{cpu}",""+E));var P=(0,a["default"])(),b=P.player,I=P.cpu;r.textContent=g,s.textContent=b+"-"+I,u.innerHTML=v,l.addEventListener("click",function(){window.location.reload()})};e.initScreens=f,e.getScreen=h,e.changeToScreen=g,e.updateResultScreen=v}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");